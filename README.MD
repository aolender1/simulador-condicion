# ğŸ“… Calendario UNSL - Sistema de GestiÃ³n AcadÃ©mica

AplicaciÃ³n web para gestionar eventos acadÃ©micos, contactos y envÃ­o de alertas automÃ¡ticas por email. Incluye autenticaciÃ³n con Google OAuth y panel de administraciÃ³n completo.

## âœ¨ CaracterÃ­sticas

### ï¿½ AutenticaciÃ³n
- Login con Google OAuth (Neon Auth)
- Control de acceso por lista de emails permitidos
- Sesiones persistentes

### ğŸ“† GestiÃ³n de Eventos
- Crear, editar y eliminar eventos acadÃ©micos
- Calendario interactivo con vistas mensual, semanal y de lista
- Colores personalizados por evento
- Zona horaria local (GMT-3)
- Formato 24 horas

### ğŸ“§ Sistema de Alertas
- EnvÃ­o de emails a lista de contactos
- IntegraciÃ³n con Resend API
- Estado de alertas (pendiente/enviado)
- Modo de prueba para desarrollo

### ğŸ‘¥ GestiÃ³n de Contactos
- Agregar/eliminar contactos (email + telÃ©fono)
- Lista completa de destinatarios de alertas

### ğŸ¨ Interfaz
- Tema claro/oscuro
- DiseÃ±o responsive
- Animaciones suaves
- Experiencia de usuario moderna

## ğŸ› ï¸ Stack TecnolÃ³gico

### Frontend
- **React 18** + **Vite**
- **FullCalendar** - Calendario interactivo
- **CSS Modules** - Estilos con variables CSS

### Backend
- **Express.js** - API REST
- **Neon PostgreSQL** - Base de datos serverless
- **Neon Auth** - AutenticaciÃ³n con Google OAuth
- **Resend** - EnvÃ­o de emails

### Deploy
- **Vercel** - Hosting y serverless functions

## ğŸš€ InstalaciÃ³n Local

### Pre-requisitos
- Node.js 18+
- Cuenta en [Neon.tech](https://neon.tech)
- Cuenta en [Resend.com](https://resend.com)

### Pasos

1. **Clonar el repositorio**
```bash
git clone https://github.com/aolender1/simulador-condicion.git
cd simulador-condicion
```

2. **Instalar dependencias**
```bash
npm install
```

3. **Configurar variables de entorno**

Crea un archivo `.env` en la raÃ­z:

```env
# Base de datos Neon
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# Neon Auth
VITE_NEON_AUTH_URL=https://your-project.neonauth.region.aws.neon.tech/database/auth

# Resend
RESEND_API_KEY=re_your_api_key

# Emails permitidos (separados por coma)
ALLOWED_EMAILS=admin@gmail.com,otro@gmail.com

# Modo de prueba (true = solo envÃ­a a RESEND_TEST_EMAIL)
RESEND_TESTING_MODE=true
RESEND_TEST_EMAIL=test@gmail.com
```

4. **Crear tablas en la base de datos**
```bash
npm run setup-db
```

5. **Ejecutar en desarrollo**
```bash
npm run dev        # Frontend (puerto 5173)
npm run server     # Backend (puerto 3001)
```

## ï¿½ Deploy en Vercel

### 1. Instalar Vercel CLI
```bash
npm install -g vercel
```

### 2. Deploy
```bash
vercel --prod
```

### 3. Configurar Variables de Entorno

En el dashboard de Vercel â†’ Settings â†’ Environment Variables, agrega:
- `DATABASE_URL`
- `VITE_NEON_AUTH_URL`
- `RESEND_API_KEY`
- `ALLOWED_EMAILS`
- `RESEND_TESTING_MODE`
- `RESEND_TEST_EMAIL`

### 4. Configurar Neon Auth

En Neon Console â†’ Auth â†’ Configuration:
- **Allowed Redirect URLs**: `https://tu-app.vercel.app/admin`
- **Allowed Origins**: `https://tu-app.vercel.app`

### 5. (Opcional) Dominio Personalizado

Para usar Resend sin restricciones, necesitas un dominio propio:
1. Compra un dominio (ej: Namecheap)
2. ConÃ©ctalo a Vercel (Settings â†’ Domains)
3. Verifica el dominio en Resend
4. Actualiza `RESEND_TESTING_MODE=false`

## ğŸ“‚ Estructura del Proyecto

```
simulador-condicion/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ EventsManager.jsx    # CRUD de eventos
â”‚   â”‚   â”œâ”€â”€ ContactsManager.jsx  # CRUD de contactos
â”‚   â”‚   â””â”€â”€ ConfirmModal.jsx     # Modal de confirmaciÃ³n
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Calendar.jsx         # Vista del calendario
â”‚   â”‚   â””â”€â”€ Login.jsx            # PÃ¡gina de login
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ auth.js              # Cliente de Neon Auth
â”‚   â”œâ”€â”€ App.jsx                  # Componente principal
â”‚   â””â”€â”€ main.jsx                 # Entry point
â”œâ”€â”€ server.js                    # API Express
â”œâ”€â”€ vercel.json                  # ConfiguraciÃ³n de Vercel
â””â”€â”€ package.json
```

## ğŸ”§ Scripts Disponibles

```bash
npm run dev          # Ejecutar frontend en desarrollo
npm run server       # Ejecutar backend en desarrollo
npm run build        # Build de producciÃ³n
npm run preview      # Preview del build
npm run setup-db     # Crear tablas en Neon
```

## ğŸ—„ï¸ Base de Datos

### Tabla: `events`
```sql
id, materia, title, start_date, end_date, color, alert_status, created_at
```

### Tabla: `contacts`
```sql
id, email, phone, created_at
```

## ğŸ¤ Contribuir

1. Fork el repositorio
2. Crea una rama: `git checkout -b feature/nueva-funcionalidad`
3. Commit: `git commit -m 'Agrega nueva funcionalidad'`
4. Push: `git push origin feature/nueva-funcionalidad`
5. Abre un Pull Request

## ğŸ“„ Licencia

MIT License - Ver [LICENSE](LICENSE) para mÃ¡s detalles.

## ğŸ‘¨â€ğŸ’» Autor

Desarrollado por [aolender](https://github.com/aolender1)

---

**Â¿Problemas?** Abre un [issue](https://github.com/aolender1/simulador-condicion/issues)